<template>
  <AppPage show-footer>
    <div class="flex">
      <n-card class="min-w-200 w-30%">
        <div class="flex items-center">
          <n-avatar round :size="60" :src="userStore.avatar" class="flex-shrink-0" />
          <div class="ml-20 flex-col">
            <span class="text-20 opacity-80">
              Hello, {{ userStore.nickName ?? userStore.username }}
            </span>
            <span class="mt-4 opacity-50">å½“å‰è§’è‰²ï¼š{{ userStore.currentRole?.name }}</span>
          </div>
        </div>

        <p class="mt-28 text-14 opacity-60">
          ä¸€ä¸ªäººå‡ ä¹å¯ä»¥åœ¨ä»»ä½•ä»–æ€€æœ‰æ— é™çƒ­å¿±çš„äº‹æƒ…ä¸ŠæˆåŠŸã€‚
        </p>
        <p class="mt-12 text-right text-12 opacity-40">
          â€”â€” æŸ¥å°”æ–¯Â·å²è€ƒä¼¯
        </p>
      </n-card>
      <n-card class="ml-12 w-70%" title="âœ¨ æ¬¢è¿ä½¿ç”¨ ui2code 1.0">
        <p class="opacity-60">
          ui2code æ˜¯é¢å‘ AI æ—¶ä»£çš„å‰ç«¯æ™ºèƒ½ç ”å‘å¹³å°,
          èƒ½å¤Ÿæ ¹æ®è®¾è®¡å›¾ç›´æ¥ç”Ÿæˆå‰ç«¯æºä»£ç ,
          æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ç»„ä»¶çš„ä»£ç ç”Ÿæˆ,
          ä¸ºå‰ç«¯ç ”å‘å¸¦æ¥é«˜è´¨ã€é«˜æ•ˆã€é«˜äº§çš„ç ”å‘ä½“éªŒã€‚
        </p>
        <footer class="mt-12 flex items-center justify-end">
          <n-button
            type="primary"
            ghost
            tag="a"
            href="#"
            target="__blank"
          >
            ä½¿ç”¨æ–‡æ¡£
          </n-button>
        </footer>
      </n-card>
    </div>
    <div class="mt-12 flex">
      <n-card class="w-50%" title="ğŸ’¯ ç‰¹æ€§" segmented>
        <template #header-extra>
          <span class="opacity-90 text-highlight">ğŸ‘ æ ¸å¿ƒåŠŸèƒ½</span>
        </template>

        <ul class="opacity-90">
          <li class="py-4">
            ğŸ†’
            <b>å›¾ç”Ÿä»£ç ï¼š</b>
            <span>åŸºäºè®¾è®¡å›¾æ™ºèƒ½ç”Ÿæˆå‰ç«¯ä»£ç ï¼Œæ»¡è¶³å¤šç»ˆç«¯è®¾å¤‡çš„å“åº”å¼å¸ƒå±€éœ€æ±‚ã€‚</span>
          </li>
          <li class="py-4">
            ğŸ‡
            <b>è¯­ä¹‰åŒ–ä¸å¯å¤ç”¨æ€§ï¼š</b>
            <span>æ™ºèƒ½è¯†åˆ«å¹¶ä¼˜åŒ–é‡å¤çš„ UI å…ƒç´ ï¼Œç”Ÿæˆè¯­ä¹‰æ¸…æ™°ã€ç»“æ„åˆç†çš„é«˜è´¨é‡ä»£ç ã€‚</span>
          </li>
          <li class="py-4">
            ğŸ¤¹ <b>å¯¼å‡ºä¸é›†æˆï¼š</b>
            <span>æ”¯æŒä¸‹è½½å•ä¸ªæ–‡ä»¶å’Œå¯¼å‡ºæ•´ä¸ªå·¥ç¨‹ï¼Œä¾¿äºç”¨æˆ·å°†ä»£ç èµ„äº§é«˜æ•ˆé›†æˆè‡³å¼€å‘é¡¹ç›®ã€‚</span>
          </li>
          <li class="py-4">
            ğŸ¨ <b>è‡ªå®šä¹‰UIç»„ä»¶ç”Ÿæˆï¼š</b>
            <span>æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰UIç»„ä»¶çš„ä»£ç ç”Ÿæˆã€‚</span>
          </li>
          <li class="py-4">
            ğŸ‘
            <b>ç”¨æˆ·èµ„äº§ç®¡ç†ï¼š</b>
            ç»Ÿä¸€å­˜å‚¨å’Œç®¡ç†ç”Ÿæˆçš„ä»£ç èµ„äº§ï¼Œæä¾›æŸ¥çœ‹ã€ç¼–è¾‘ã€å¯¼å‡ºç­‰åŠŸèƒ½ã€‚
          </li>
        </ul>

        <n-divider class="mb-0! mt-12!">
          <p class="text-14 opacity-60">
            æ›´å¤šå®ç”¨åŠŸèƒ½ï¼ŒæŒç»­å¼€å‘ä¸­...
          </p>
        </n-divider>
      </n-card>

      <n-card class="ml-12 w-50%" title="ğŸ› ï¸ æŠ€æœ¯æ ˆ" segmented>
        <VChart :option="skillOption" autoresize />
      </n-card>
    </div>
  </AppPage>
</template>

<script setup>
import { useUserStore } from '@/store'
import { BarChart, LineChart, PieChart } from 'echarts/charts'
import { GridComponent, LegendComponent, TooltipComponent } from 'echarts/components'
import * as echarts from 'echarts/core'
import { UniversalTransition } from 'echarts/features'
import { CanvasRenderer } from 'echarts/renderers'
import VChart from 'vue-echarts'

const userStore = useUserStore()

echarts.use([
  TooltipComponent,
  GridComponent,
  LegendComponent,
  BarChart,
  LineChart,
  CanvasRenderer,
  UniversalTransition,
  PieChart,
])

const skillOption = {
  tooltip: {
    trigger: 'item',
    formatter({ name, value }) {
      return `${name} ${value}%`
    },
  },
  legend: {
    left: 'center',
  },
  series: [
    {
      top: '12%',
      type: 'pie',
      radius: ['35%', '90%'],
      avoidLabelOverlap: true,
      itemStyle: {
        borderRadius: 10,
        borderColor: '#fff',
        borderWidth: 2,
      },
      label: {
        show: false,
        position: 'center',
      },
      emphasis: {
        label: {
          show: true,
          fontSize: 36,
          fontWeight: 'bold',
        },
      },
      labelLine: {
        show: false,
      },
      data: [
        { value: 38.5, name: 'Vue' },
        { value: 37.0, name: 'JavaScript' },
        { value: 6.5, name: 'CSS' },
        { value: 6.2, name: 'HTML' },
        { value: 1.8, name: 'Other' },
      ],
    },
  ],
}
</script>
